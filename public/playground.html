<!DOCTYPE html>
<html>
<head>
    <title>Getting Started</title>
    <script src="../dev/pi.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"></script>
</head>
<body>

<div id="output"></div>

<script>
    let A = new Pi.Geometry.Point(0,2),
            B = new Pi.Geometry.Point(2,3),
            C = new Pi.Geometry.Point(1/2, 4),
            D = new Pi.Geometry.Point(2, -1/2);

    let L1 = new Pi.Geometry.Line(A, B).simplifyDirection(),
            L2 = new Pi.Geometry.Line(C, D).simplifyDirection();

    document.getElementById('output').innerHTML = `<p>\\( ${L1.tex.parametric} \\)</p>`;
    document.getElementById('output').innerHTML += `<p>\\( ${L2.tex.parametric} \\)</p>`;

    let I = L1.intersection(L2);
    if(I.hasIntersection) {
        document.getElementById('output').innerHTML += `<p>\\[ ${L1.intersection(L2).point.tex} \\]</p>`
    }else if(I.isParallel){
        document.getElementById('output').innerHTML += `<p>Elles sont parall√®les</p>`
    }else if(I.isSame){
        document.getElementById('output').innerHTML += `<p>Elles sont confondues</p>`
    }

    console.log('RENDERING MATH')
    renderMathInElement(document.getElementById('output'), {fleqn: true});
    /*let p;
    p = new Pi.Polynom('3x(6x+9)+6(6x+9)');
    document.getElementById('output').innerHTML = `<p>${p.raw}</p>`;
    document.getElementById('output').innerHTML += `<p>${p.display}</p>`;

    let v1 = new Pi.Vector('3 4'),
        v2 = new Pi.Vector('-2 5');

    console.log(v1);
    console.log(v2);
    console.log(Pi.Vector.scalarProduct(v1, v2));


    let P = new Pi.Polynom('(x+5)(x-17)(37x+35)');
    let Q = new Pi.Polynom('1');
    P.factorize(100)

    P.factors.forEach(n=> {
        console.log(n.tex)
        Q.multiply(n);
    })

    // Check that we have the same polynom.
    console.log(P.tex);
    console.log(Q.tex);





    /*let n = new Pi.Polynom(),
            d = new Pi.Polynom();
    n.parse('(x+3)(x+4)');
    d.parse('(x+3)(x-2)')

    let r = new Pi.Rational(n, d);
    document.getElementById('output').innerHTML = `<p>${r.tex}</p>`*/


    /*
    let M = new Pi.Monom().random('x', 2, false, false);
    console.log(M.displayWithSign);

    let S = new Pi.LinearSystem().parse(
        'x-3y=-2',
        '4x+7x=1'
    );
    S.solve();
    document.getElementById('output').innerHTML = `<p>${S.tex}</p>`;
    document.getElementById('output').innerHTML += `<p>${S.texSolution}</p>`;
    let S = new Pi.LinearSystem().generate(3,-5,2);
    document.getElementById('output').innerHTML = `<p>${S.tex}</p>`;
    S.solve();
    S.log;
    S.tex;

    S = new Pi.LinearSystem().generate(-1,8,-2);
    document.getElementById('output').innerHTML += `<p>${S.tex}</p>`;
    S.solve();
    S.log;

    let P = new Pi.Polynom('3x^2+5yx-2');
    console.log(P.tex);
    console.log(P.numberOfVars);
    P.replaceBy('y', new Pi.Polynom('2x+1'));
    console.log(P.tex);

    let A = new Pi.Equation('2x+3y=5');
    console.log(A.tex);

    A.isolate('x');
    console.log(A.tex);

    A.isolate('y');
    console.log(A.tex);

    let P = new Pi.Polynom().rndSimple(2).makeItComplicate();
    console.log(P.tex);
    console.log(P.texString);

    let A = new Pi.Fraction().parse('2/5');
    console.log(A.frac);

    let F = new Pi.Fraction().parse('18/5');
    let N = new Pi.Root().parse(F).reduce();
    console.log(N.tex);

    let E = new Pi.Equation().create(new Pi.Polynom().parse('x^2+6x-8'), new Pi.Polynom().zero());
    E.solve();
    console.log(E.solutions);

    let D = 42;
    console.log(Pi.Numeric.dividers(D));

    let X = new Pi.Polynom().rndFactorable(2, false);
    console.log(X.tex);
    X.factors.forEach(function(P, i){
        console.log(P.tex);
    });

    let EQ = new Pi.Equation('2x+3>=5x-2');
    EQ.solve();
    console.log(EQ.solution);

    EQ.parseString('2x+3<5x-2');
    EQ.solve();
    console.log(EQ.solution);

    EQ.parseString('7x+3>5x-2');
    EQ.solve();
    console.log(EQ.solution);

    EQ.parseString('7x+3=<5x-2');
    EQ.solve();
    console.log(EQ.solution);

    EQ.parseString('7x+3=<7x-2');
    EQ.solve();
    console.log(EQ.solution);

    EQ.parseString('7x+3>7x-2');
    EQ.solve();
    console.log(EQ.solution);

    EQ.parseString('x^2+6x+9>=0');
    EQ.solve();
    console.log(EQ.solution);*/
</script>
</body>
</html>